/*! cafe note v2.3.28.1 | Copyright 2014, S-Core, Inc. All Right Reserved. */
cafe.themeManager.add("theme",null,function(a){var b=a.$,c={panel:"edit codeview preview",toolbar:"newdocument customhtmlfilesave autosave pagebreak | undo redo | selectall | findreplace | paragraphformat fontfamily fontsize lineheight | bold italic underline strikethrough superscript subscript | fontcolor fontbgcolor | alignment.left alignment.center alignment.right alignment.justify | indent outdent | bulletedlist numberedlist | image specialcharacters emoticon media link | table | typo2kr.auto typo2kr.manual spellcheck | textmode",menubar:{file:{items:"newdocument | customhtmlfilesave | autosave | pagebreak"},edit:{items:"undo redo | copy cut paste pasteastext | selectall | findreplace"},insert:{items:"image specialcharacters emoticon media link"},format:{items:"bold italic underline strikethrough superscript subscript | paragraphformat alignment bulletedlist numberedlist | indent outdent"},tools:{items:"typo2kr spellcheck textmode"},table:{items:"inserttable selecttable deletetable tableproperties | copytable pastetable nesttable overwritecells | tableindent tableoutdent | insertcell deletecells splitcell mergecells | tableselection | cellsize | cellproperties"},help:{items:"information"}},statusbar:!0};return{createUI:function(d){var e,f,g,h,i={widgets:{},htmlData:null},j={};d=d||{},j=b.extend(j,c,d.configs),e=j.menubar,"boolean"==typeof e&&e&&(e=b.extend({},c.menubar));for(g in e)h=e[g],h.title=a.getText(g);return f=j.toolbar,"boolean"==typeof f&&f&&(f=c.toolbar.slice(0)),j.menubar=e,j.toolbar=f,d.configs=j,this._createContainer(i),this._createHeader(i,d),this._createContent(i,d),this._createFooter(i,d),i.configs=d.configs,i.uiComponents={},i},_createContainer:b.noop,_createHeader:b.noop,_createContent:b.noop,_createFooter:b.noop,drawUI:function(a,c){var d=b(c);this.$target=b(a).hide().after(d).trigger({type:"drewui",relatedTarget:d[0]})},initUI:b.noop,finalUI:b.noop,destroyUI:function(){this.$target&&(this.$target.show(),b._removeData(this.$target[0],"olddisplay")),this.$target=null},createDialog:b.noop}}),cafe.themeManager.add("origin","default",function(a,b){var c=a.$,d=a.getResourcesUrl(),e=/([a-zA-Z0-9\.\-\_]+(\.[a-zA-Z]{2,6})+)|(\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b)$/;return b.blankPagePath="themes/origin/blank.html",b.drawUI=function(f,g){var h,i,j,k=9999,l=c(g),m=c(f),n=b.blankPagePath,o=function(){m.hide().after(l.hide())},p=function(){l.show(),m.trigger({type:"drewui",relatedTarget:l[0]})};return a.browser.ie&&n&&(i=e.exec(document.domain),i&&i[0]&&i[1]&&(h=c("iframe",l),j=d+n,h.length))?(k=h.length,h.on("load.cui-theme",function(){--k,0===k&&(h.off("load.cui-theme"),p())}),o(),void h.attr("src",j)):(o(),void p())},b}),cafe.themeManager.add("default","theme",function(a,b){var c=a.$,d=/(?:\s){1,}/,e=/^selectmenu|colorbutton|splitbutton|colorinput$/,f=a.editorManager.editorConstants.EDITOR_MIN_HEIGHT;return b._createContainer=function(a){var b=c.ui.container(),d=b.getHTMLData();d.attr.class.push("cui-cafe","cui-border-all"),a.htmlData=d,a.widgets.container=b},b._createHeader=function(a,b){var d,e,f,g,h;d=b.configs||{},e=b.menuItems||{},f=b.buttons||{},g=c.ui.container(),h=g.getHTMLData(),h.attr.class.push("cui-header"),d.menubar!==!1&&h.contents.push(this._createMenubar(a,d.menubar,e)),d.toolbar!==!1&&h.contents.push(this._createToolbar(a,d.toolbar,f)),a.htmlData.contents.push(h),a.widgets.header=g},b._createContent=function(a,b){function e(a){var b,d=a.contents;for(f=0,g=d.length;f<g;f++)b=a.contents[f].attr.class,b&&c.inArray("cui-tabs-nav",b)!==-1&&(b.push("cui-footer"),q.statusbar===!1&&b.push("cui-state-hidden"))}var f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(j=b.panels,i=c.trim(b.configs.panel).split(d),i.indexOf("edit")===-1&&i.splice(0,0,"edit"),q=b.configs,s=b.menuItems,n=[],f=0,g=i.length;f<g;f++)h=i[f],!h||"edit"!==h&&"preview"!==h&&"codeview"!==h||(l=j[h],l&&(r={tag:l.tag||"iframe",title:l.title||h},q.height&&(r.height=q.height),l.src&&(r.src=l.src),k=c.ui.panel(r),a.widgets["panel_"+h]=k,p=k.getHTMLData(),void 0!==l.contextmenu&&(p.after=this._createContextMenu(a,h,k.getID(),l.contextmenu,s)),n.push({name:h,label:j[h].label,contents:[p]})));m=c.ui.tabs({panelData:n,hideTabList:q.hide_tab_list}),o=m.getHTMLData(),o.attr.class.push("cui-content"),b.configs.useFooter!==!1&&e(o),a.htmlData.contents.push(o),a.widgets.tabs=m},b._createMenubar=function(a,b,e){function f(a){var b,c,d=0,f=[];for(b=0,c=a.length;b<c;b++)"|"===a[b]?f.push({}):a[b]&&e[a[b]]&&(f.push(e[a[b]]),d++);return d||(f=null),f}var g,h,i,j,k,l;g=c.ui.container(),j=g.getHTMLData(),j.attr.class.push("cui-menubar","cui-border-bottom"),a.widgets.menubar=g;for(k in b)l=f(c.trim(b[k].items).split(d)),l&&(i={label:b[k].title||k,menuItems:l,fixedLabel:!0,width:null,belongTo:"#"+a.htmlData.attr.id,autoCloseViaScroll:!1},h=c.ui.selectmenu(i),j.contents.push(h.getHTMLData()),a.widgets["menubar_menu_"+k]=h);return j.contents.length||j.attr.class.push("cui-state-hidden"),j},b._createToolbar=function(a,b,d){var f,g,h,i,j,k,l,m,n,o,p;for(h=c.trim(b).split(" "),k=c.ui.container(),l=k.getHTMLData(),a.widgets.toolbar=k,l.attr.class.push("cui-toolbar","cui-bar","cui-border-bottom"),n=[],p=0,f=0,g=h.length;f<=g;f++)i=h[f],j=d[i],"|"!==i&&f!==g||!n.length?j&&(e.test(j.widgetType)&&(j.belongTo||(j.belongTo="#"+a.htmlData.attr.id)),o=j.widgetType?c.ui[j.widgetType](j):c.ui.button(j),n.push(o.getHTMLData()),a.widgets["toolbar_"+i]=o):(m=c.ui.buttonset({contents:n}),l.contents.push(m.getHTMLData()),a.widgets["toolbar_buttonset_"+p++]=m,n=[]);return l.contents.length||l.attr.class.push("cui-state-hidden"),l},b._createContextMenu=function(a,b,e,f,g){var h,i,j,k,l,m,n=[];for(l=c.trim(f).split(d),h=0,i=l.length;h<i;h++)k=l[h],"|"===k?n.push({}):(m=g[k+"ContextMenu"],n.push(m));return j=c.ui.contextmenu({target:"#"+e,menuItems:n,belongTo:"#"+a.htmlData.attr.id}),a.widgets["panel_"+b+"_contextmenu"]=j,j.getHTMLData()},b.initUI=function(a,b){this._resizeHandler(a,b),this._contextMenuHandler(a,b),this._tabsHandler(a,b),b.tooltip().on("buttondisabled mouseup","[title]",function(a){var d=c.Event("blur");d.target=d.currentTarget=a.currentTarget,b.tooltip("close",d,!0)})},b.finalUI=function(a,b){b.off("buttondisabled mouseup","[title]").tooltip("destroy"),b.find(".cui-tabs").off("tabsactivate tabsbeforeactivate"),b.find(".cui-contextmenu").off("contextmenubeforeopen"),b.find(".cui-tabs-panel > .cui-panel").each(function(){c(this.contentDocument).off("mousemove.cui-resize-handle mouseup.cui-resize-handle").removeData("panelOffset")}),b.resizable("destroy")},b._resizeHandler=function(a,b){function d(a,d){var i=c(".cui-tabs-panel > .cui-panel",b),l=c(i[0]).contents().find("body").eq(0),m=e+d.size.height-d.originalSize.height,n=g+d.size.height-d.originalSize.height,o=h+d.size.height-d.originalSize.height;m=m<f?f:m,i.height(m),l.css("minHeight",m-parseFloat(l.css("margin-top"))-parseFloat(l.css("margin-bottom"))),j&&j.length>0&&(o=o<f?f:o,j.outerHeight(o)),k&&k.length>0&&(n=n<f?f:n,k.outerHeight(n))}var e,g,h,i,j,k,l=c(".cui-header",b),m=c(".cui-footer",b),n=a.configs;b.resizable({handles:"s",start:function(){var a=c(".cui-tabs-panel > .cui-panel",b),d=l.outerHeight(!0)+(m.is(":hidden")?0:m.outerHeight(!0))+i.outerHeight();b.resizable("option","minHeight",d+f),n.editor_max_height&&b.resizable("option","maxHeight",n.editor_max_height<d+f?d+f:n.editor_max_height),e=a.height(),j||(j=c(".cui-panel[data-cui-title=codeview]",b)),j.length>0&&(h=j.outerHeight()),k||(k=c(".cui-panel[data-cui-title=textmode]",b)),k.length>0&&(g=k.outerHeight())},resize:d,stop:function(a,c){d(a,c),b.css("height","")},checkIFrame:!0}).resizable("ui").handles.removeAttr("style").addClass("cui-container-resize-handle").on("mousedown",function(a){function d(a){var b=c(a.currentTarget).data("panelOffset");b&&(a.pageX=a.clientX+b.left,a.pageY=a.clientY+b.top,h.trigger(a))}var e,f=c(".cui-tabs-panel > .cui-panel",b),g=c(a.currentTarget).addClass("cui-state-active"),h=c(a.currentTarget.ownerDocument),i=f.length;for(e=0;e<i;e++)try{c(f[e].contentDocument).data("panelOffset",f.eq(e).offset()).on("mousemove.cui-resize-handle mouseup.cui-resize-handle",d)}catch(a){}h.one("mouseup",function(){for(e=0;e<i;e++)try{c(f[e].contentDocument).removeData("panelOffset").off(".cui-resize-handle")}catch(a){}g.removeClass("cui-state-active")})}).append("<span class='cui-icon cui-icon-height-handle'></span>"),i=c(".cui-container-resize-handle",b)},b._contextMenuHandler=function(b,d){c(".cui-contextmenu",d).on("contextmenubeforeopen",function(c,d){var e,f,g=d.widget,h=d.originEvent;a.os&&a.os.mac&&(a.focus(),f=a.getDoc().caretRangeFromPoint(h.clientX,h.clientY),a.lastRange.isPointInRange(f.startContainer,f.startOffset)||a.selectionManager.setSingleRange(f)),a.selectionChange.contentChanged(),e=b.getContext(h.target),g.option("context",e),d.context=e,a.trigger(c,d)})},b._tabsHandler=function(b,d){c(".cui-tabs",d).on("tabsactivate tabsbeforeactivate",function(b,c){a.trigger(b,c)})},b.createDialog=function(a,b){function d(a){var b,c,d,e=a.contents;for(b=0,c=e.length;b<c;b++)if(d=e[b],d.attr.class.indexOf("cui-widget-content")!==-1)return d.contents}var e,f,g="dialog_"+a,h=c.ui.dialog(b),i=h.getHTMLData(),j={};i.attr["data-cui-name"]=a,h.dialogName=g,j[g]=h;for(e in h.footerButtons)f=g+"_"+e,j[f]=h.footerButtons[e];return this._createDialogContent(h,b.items,d(i),j),{widgets:j,htmlData:i}},b._createDialogContent=function(a,b,d,f){function g(a){var b=a.type,c=a.items,d=a.options||{};return"radio"===b?d.groupRange=d.groupRange||"#"+m:"columns"===b&&c?d.itemCount=d.itemCount||c.length||1:n&&e.test(b)&&(d.belongTo||(d.belongTo=n)),d}function h(a,b){return a.attr||(a.attr={}),a.attr.class||(a.attr.class=[]),"string"==typeof a.attr.class&&(a.attr.class=[a.attr.class]),c.inArray(b,a.attr.class)!==-1?a:(a.attr.class.push(b),a)}function i(a){var b,d,e,j,k,m,n,o,p,q,r,s,t,u,v,w;if(a&&a.type){if(e=a.type,"html"===e)return a.contents||"";if(r=g(a),a.items&&(j=a.items,d=j.length),k=a.label,s=a.proportion,t=a.align,u=a.unit,m=l+"_"+(a.name||""),o=c.ui[e](r),f[m]=o,"container"===e||"columns"===e)for(p=o.getHTMLData(),b=0;b<d;b++)p.contents.push(i(j[b]));else"tabs"===e?p=o.getHTMLData():(q=o.getHTMLData(),p={tag:"div",attr:{class:["cui-line"]},contents:[]},k&&("string"==typeof k?n=c.ui.label({label:k}):k.type&&(k.options=g(k),n=c.ui[k.type](k.options)),n&&(p.contents.push(h(n.getHTMLData(),"cui-line-item-left")),f[m+"_label"]=n,q=h(q,"cui-line-item-right"))),s&&(p.attr.class.push("cui-custom-proportion"),p.attr.style="width: "+s+";"),t&&("center"===t?h(p,"cui-line-align-center"):"left"===t?h(p,"cui-line-align-left"):"right"===t&&h(p,"cui-line-align-right")),p.contents.push(q),u&&("string"==typeof u?v=c.ui.label({label:u}):u.type&&(u.options=g(u),v=c.ui[k.type](u.options)),v&&(w=h(v.getHTMLData(),"cui-line-unit"),p=h(p,"cui-line-in-unit"),p.contents.push(w),f[m+"_unit"]=v)));return p}}var j,k,l=a.dialogName,m=a.getID(),n=a.option("belongTo");if(b&&d&&f&&b.length)for(j=0,k=b.length;j<k;j++)d.push(i(b[j]))},b}),cafe.themeManager.add("deploy","origin",function(a,b){return b});